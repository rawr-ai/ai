# Magic String Log for CLI Refactoring

## cli/main.py

*   `L18`: `"Initial import failed (expected during refactor): {e}"` (Error message/log)
*   `L22`: `"Dummy add_config called"` (Log/Debug message)
*   `L25`: `"Dummy update_config called"` (Log/Debug message)
*   `L28`: `"Dummy delete_config called"` (Log/Debug message)
*   `L31`: `"target_json_path"` (Config key)
*   `L31`: `"dummy.json"` (Default file path)
*   `L31`: `"markdown_base_dir"` (Config key)
*   `L31`: `"."` (Default path)
*   `L38`: `"%(asctime)s - %(name)s - %(levelname)s - %(message)s"` (Logging format)
*   `L44`: `"agent-config-cli"` (CLI name)
*   `L45`: `"CLI tool to manage Agent Configurations from Markdown files."` (Help text)
*   `L57`: `"target_json_path"` (Config key)
*   `L57`: `"configs/agents.json"` (Default file path)
*   `L60`: `"markdown_base_dir"` (Config key)
*   `L60`: `"docs/agents/"` (Default directory path)
*   `L63`: `"Loaded config: target_json='{target_json}', markdown_dir='{markdown_dir}'"` (Log message format)
*   `L70`: `"Failed to load CLI configuration: {e}"` (Error message/log)
*   `L72`: `"Error: Failed to load CLI configuration. Check config file and paths. Details: {e}"` (Error message)
*   `L81`: `"add"` (Command name)
*   `L85`: `"Path to the Markdown file defining the agent."` (Help text)
*   `L91`: `"CLI 'add' command invoked for path: {markdown_path}"` (Log message format)
*   `L100`: `"Successfully added agent configuration from: {markdown_path}"` (Success message)
*   `L103`: `"Error adding agent: {e}"` (Error message)
*   `L107`: `"An unexpected error occurred during 'add': {e}"` (Error message/log)
*   `L109`: `"An unexpected error occurred: {e}"` (Error message)
*   `L113`: `"update"` (Command name)
*   `L118`: `"Path to the Markdown file with updated agent definition."` (Help text)
*   `L124`: `"--preserve-groups"` (CLI option name)
*   `L125`: `"Keep the existing group assignments for the agent."` (Help text)
*   `L134`: `"CLI 'update' command invoked for path: {markdown_path} (preserve_groups={preserve_groups})"` (Log message format)
*   `L145`: `"Successfully updated agent configuration from: {markdown_path}"` (Success message)
*   `L148`: `"Error updating agent: {e}"` (Error message)
*   `L152`: `"An unexpected error occurred during 'update': {e}"` (Error message/log)
*   `L154`: `"An unexpected error occurred: {e}"` (Error message)
*   `L158`: `"delete"` (Command name)
*   `L163`: `"The unique slug of the agent configuration to delete."` (Help text)
*   `L170`: `"CLI 'delete' command invoked for slug: {slug}"` (Log message format)
*   `L177`: `"Successfully deleted agent configuration with slug: {slug}"` (Success message)
*   `L180`: `"Error deleting agent: {e}"` (Error message)
*   `L184`: `"An unexpected error occurred during 'delete': {e}"` (Error message/log)
*   `L186`: `"An unexpected error occurred: {e}"` (Error message)

## cli/agent_config/commands.py

*   `L20`: `"Entering add_config with markdown_path_str='{markdown_path_str}', target_json_path='{target_json_path}', markdown_base_dir='{markdown_base_dir}'"` (Log format)
*   `L27`: `"Markdown file path '{markdown_path}' is not inside the configured markdown base directory '{markdown_base_dir_resolved}'. Ensure this is intended."` (Log/Warning format)
*   `L30`: `"Markdown file path '{markdown_path}' must be inside '{markdown_base_dir_resolved}'."` (Error format - commented out)
*   `L36`: `"Ensuring target directory exists: {target_json_path.parent}"` (Log format)
*   `L39`: `"Attempting to add configuration from: {markdown_path}"` (Log format)
*   `L40`: `"Parsing markdown file: {markdown_path}"` (Log format)
*   `L43`: `"Parsed config: slug='{new_config.slug}', name='{new_config.name}'"` (Log format)
*   `L45`: `"Loading existing configs from: {target_json_path}"` (Log format)
*   `L47`: `"Loaded {len(configs)} existing configs."` (Log format)
*   `L51`: `"Agent with slug '{new_config.slug}' already exists in {target_json_path}."` (Log/Error format)
*   `L54`: `"Error: Agent with slug '{new_config.slug}' already exists in {target_json_path}."` (Error format)
*   `L59`: `"Appending new config for slug '{new_config.slug}'. Total configs will be {len(configs) + 1}."` (Log format)
*   `L62`: `"Saving {len(configs)} configs to: {target_json_path}"` (Log format)
*   `L64`: `"Successfully added agent '{new_config.slug}'."` (Log format)
*   `L65`: `"Exiting add_config"` (Log message)
*   `L76`: `"Entering update_config with markdown_path_str='{markdown_path_str}', target_json_path='{target_json_path}', markdown_base_dir='{markdown_base_dir}'"` (Log format)
*   `L79`: `"Attempting to update configuration from: {markdown_path_str}"` (Log format)
*   `L86`: `"Markdown file path '{markdown_path}' is not inside the configured markdown base directory '{markdown_base_dir_resolved}'. Ensure this is intended."` (Log/Warning format)
*   `L89`: `"Markdown file path '{markdown_path}' must be inside '{markdown_base_dir_resolved}'."` (Error format - commented out)
*   `L90`: `"Parsing markdown file: {markdown_path}"` (Log format)
*   `L93`: `"Parsed config for update: slug='{updated_config.slug}', name='{updated_config.name}'"` (Log format)
*   `L95`: `"Loading existing configs from: {target_json_path}"` (Log format)
*   `L97`: `"Loaded {len(configs)} existing configs."` (Log format)
*   `L105`: `"Preserving existing groups for slug '{config.slug}': {config.groups}"` (Log format)
*   `L113`: `"Existing config for slug '{config.slug}' lacked groups attribute or was None. Cannot preserve."` (Log/Warning format)
*   `L121`: `"Found existing config for slug '{updated_config.slug}' at index {i}. Replacing."` (Log format)
*   `L127`: `"Agent with slug '{updated_config.slug}' not found in {target_json_path} for update."` (Log/Error format)
*   `L130`: `"Error: Agent with slug '{updated_config.slug}' not found in {target_json_path}."` (Error format)
*   `L134`: `"Saving {len(configs)} configs (with update) to: {target_json_path}"` (Log format)
*   `L137`: `"Successfully updated agent '{updated_config.slug}'."` (Log format)
*   `L138`: `"Exiting update_config"` (Log message)
*   `L144`: `"Entering delete_config with slug='{slug}', target_json_path='{target_json_path}'"` (Log format)
*   `L146`: `"Attempting to delete configuration with slug: {slug}"` (Log format)
*   `L147`: `"Loading existing configs from: {target_json_path}"` (Log format)
*   `L149`: `"Loaded {len(configs)} existing configs."` (Log format)
*   `L152`: `"Filtering configs to remove slug '{slug}'. Initial count: {initial_length}"` (Log format)
*   `L155`: `"Filtered config count: {len(configs)}"` (Log format)
*   `L159`: `"Agent with slug '{slug}' not found in {target_json_path} for deletion."` (Log/Error format)
*   `L162`: `"Error: Agent with slug '{slug}' not found in {target_json_path}."` (Error format)
*   `L166`: `"Saving {len(configs)} configs (after deletion) to: {target_json_path}"` (Log format)
*   `L169`: `"Successfully deleted agent '{slug}'."` (Log format)
*   `L170`: `"Exiting delete_config"` (Log message)

## cli/agent_config/markdown_utils.py

*   `L14`: `"# Core Identity & Purpose"` (Heading constant)
*   `L14`: `"# Persona"` (Heading constant)
*   `L14`: `"# Role"` (Heading constant)
*   `L16`: `"## Custom Instructions"` (Heading constant)
*   `L17`: `"## Mode-specific Instructions"` (Heading constant)
*   `L18`: `"## Standard Operating Procedure (SOP) / Workflow"` (Heading constant)
*   `L35`: `"Entering _find_section with start_headings={start_headings}, start_offset={start_offset}"` (Log format)
*   `L54`: `"No start heading found from {start_headings} after offset {start_offset}."` (Log format)
*   `L63`: `"Could not parse heading level for found heading: '{found_heading}'"` (Log/Warning format)
*   `L69`: `"Found heading '{found_heading}' at index {best_match_start_index} with level {start_level}."` (Log format)
*   `L75`: `"Internal logic error: found_heading is None despite valid start index"` (Assertion message)
*   `L85`: `"Found next heading '{first_heading_after_start.group(2)}' at index {end_index}. Ending section."` (Log format)
*   `L91`: `"Section content extracted from index {best_match_start_index} to {end_index}."` (Log format)
*   `L94`: `"Exiting _find_section. Found section: {section_content[:50]}..."` (Log format)
*   `L102`: `"Entering parse_markdown with markdown_path='{markdown_path}'"` (Log format)
*   `L105`: `"Markdown file not found: {markdown_path}"` (Error format)
*   `L107`: `"Parsing Markdown file: {markdown_path}"` (Log format)
*   `L108`: `"Reading content from: {markdown_path}"` (Log format)
*   `L109`: `"utf-8"` (Encoding string)
*   `L110`: `"Read {len(content)} characters from file."` (Log format)
*   `L116`: `"Could not determine slug from path: {markdown_path}"` (Error format)
*   `L118`: `"Extracted slug: '{slug}'"` (Log format)
*   `L124`: `"Could not find H1 heading for 'name' in: {markdown_path}"` (Error format)
*   `L127`: `"Extracted name: '{name}'"` (Log format)
*   `L133`: `"Could not find any role definition heading ({', '.join(ROLE_DEFINITION_HEADINGS)}) in: {markdown_path}"` (Error format)
*   `L137`: `"Extracted roleDefinition (length {len(role_definition)}) starting with: {role_definition[:50]}..."` (Log format)
*   `L148`: `"No more custom instruction sections found."` (Log message)
*   `L159`: `"Found {len(custom_instructions_list)} custom instruction section(s). Concatenating."` (Log format)
*   `L178`: `"\n\n"` (Separator string)
*   `L180`: `"Final customInstructions (length {len(custom_instructions_final)}) starting with: {custom_instructions_final[:50]}..."` (Log format)
*   `L183`: `"No custom instruction sections found."` (Log message)
*   `L187`: `"slug"` (Dict key)
*   `L188`: `"name"` (Dict key)
*   `L189`: `"roleDefinition"` (Dict key)
*   `L192`: `"customInstructions"` (Dict key)
*   `L195`: `"Attempting to validate and create AgentConfig for slug '{slug}'."` (Log format)
*   `L200`: `"Successfully parsed and validated AgentConfig for slug: {slug}"` (Log format)
*   `L202`: `"Exiting parse_markdown (success) for slug '{slug}'"` (Log format)
*   `L206`: `"Pydantic validation error creating AgentConfig for {markdown_path}: {e}"` (Log/Error format)
*   `L209`: `"Validation error creating AgentConfig for {markdown_path}: {e}"` (Error format)

## cli/agent_config/models.py

*   `L13`: `"roleDefinition"` (Pydantic field alias)
*   `L14`: `"customInstructions"` (Pydantic field alias)
*   `L15`: `"read"` (Default group value)

## cli/agent_config/settings.py

*   `L16`: `"cli/config.yaml"` (Default config path)
*   `L18`: `"AGENT_CLI_CONFIG_PATH"` (Environment variable name)
*   `L30`: `"Using CLI config path from environment variable {CLI_CONFIG_ENV_VAR}: {config_path}"` (Log format)
*   `L34`: `"Using default CLI config path: {config_path}"` (Log format)
*   `L37`: `"Entering load_cli_config, attempting to load from: {config_path}"` (Log format)
*   `L40`: `"CLI configuration file not found at {config_path}."` (Log/Error format)
*   `L42`: `"CLI configuration file not found: {config_path}"` (Error format)
*   `L45`: `"Loading CLI configuration from: {config_path}"` (Log format)
*   `L46`: `"r"` (File open mode)
*   `L46`: `"utf-8"` (Encoding string)
*   `L50`: `"Invalid format: CLI config file {config_path} did not parse as a dictionary."` (Log/Error format)
*   `L53`: `"CLI configuration ({config_path}) is not a valid dictionary."` (Error format)
*   `L55`: `"Successfully loaded CLI configuration."` (Log message)
*   `L56`: `"CLI Config content: {config_data}"` (Log format)
*   `L57`: `"Exiting load_cli_config (success)"` (Log message)
*   `L60`: `"YAML parsing error in {config_path}: {e}"` (Log/Error format)
*   `L61`: `"Invalid YAML format in {config_path}: {e}"` (Error format)
*   `L64`: `"Unexpected error loading CLI config from {config_path}: {e}"` (Log/Error format)
*   `L68`: `"Failed to load CLI configuration from {config_path}: {e}"` (Error format)
*   `L74`: `"Entering load_configs with json_path='{json_path}'"` (Log format)
*   `L77`: `"Target JSON file not found at {json_path}. Returning empty list."` (Log/Warning format)
*   `L79`: `"Exiting load_configs (file not found)"` (Log message)
*   `L82`: `"Loading configurations from: {json_path}"` (Log format)
*   `L83`: `"Opening file for reading: {json_path}"` (Log format)
*   `L84`: `"r"` (File open mode)
*   `L84`: `"utf-8"` (Encoding string)
*   `L87`: `"Successfully loaded raw JSON data."` (Log message)
*   `L89`: `"customModes"` (Dict key)
*   `L91`: `"Invalid format: Target JSON file {json_path} does not contain a top-level 'customModes' key."` (Log/Error format)
*   `L94`: `"Target JSON ({json_path}) structure is invalid. Expected {{'customModes': [...]}}."` (Error format)
*   `L96`: `"customModes"` (Dict key)
*   `L98`: `"Invalid format: 'customModes' key in {json_path} does not contain a list."` (Log/Error format)
*   `L100`: `"'customModes' in {json_path} is not a list."` (Error format)
*   `L102`: `"Attempting to parse {len(data['customModes'])} items into AgentConfig models."` (Log format)
*   `L104`: `"customModes"` (Dict key)
*   `L106`: `"Successfully loaded and validated {len(configs)} configurations."` (Log format)
*   `L108`: `"Exiting load_configs (success)"` (Log message)
*   `L111`: `"JSON decoding error in {json_path}: {e}"` (Log/Error format)
*   `L112`: `"Invalid JSON format in {json_path}: {e}"` (Error format)
*   `L114`: `"Data validation error parsing {json_path}: {e}"` (Log/Error format)
*   `L115`: `"Data validation failed for {json_path}: {e}"` (Error format)
*   `L119`: `"Type error during config loading from {json_path}: {e}"` (Log/Error format)
*   `L120`: `"Incorrect data structure in {json_path}: {e}"` (Error format)
*   `L126`: `"Entering save_configs with json_path='{json_path}' and {len(configs)} configs"` (Log format)
*   `L129`: `"Saving {len(configs)} configurations to: {json_path}"` (Log format)
*   `L131`: `"Ensuring parent directory exists: {json_path.parent}"` (Log format)
*   `L135`: `"Converting AgentConfig models to dictionaries for JSON serialization."` (Log message)
*   `L142`: `"slug"` (Dict key for sorting)
*   `L142`: `""` (Default sort key value)
*   `L144`: `"Prepared {len(config_dicts)} dictionaries for saving."` (Log format)
*   `L145`: `"Opening file for writing: {json_path}"` (Log format)
*   `L146`: `"w"` (File open mode)
*   `L146`: `"utf-8"` (Encoding string)
*   `L149`: `"Wrapping config list in {'customModes': ...} structure."` (Log message)
*   `L151`: `"customModes"` (Dict key)
*   `L153`: `"Successfully saved configurations to {json_path}"` (Log format)
*   `L154`: `"Exiting save_configs (success)"` (Log message)
*   `L156`: `"IOError writing to JSON file {json_path}: {e}"` (Log/Error format)
*   `L157`: `"Error writing to JSON file {json_path}: {e}"` (Error format)
*   `L161`: `"An unexpected error occurred during saving to {json_path}"` (Log/Error format)
*   `L163`: `"An unexpected error occurred during saving: {e}"` (Error format)

## tests/conftest.py

*   `L10`: `'agent_configs.json'` (Filename)
*   `L11`: `'markdown_files'` (Directory name)
*   `L15`: `'markdown_base_dir'` (Config key)
*   `L16`: `'target_json_path'` (Config key)
*   `L18`: `'config.yaml'` (Filename)
*   `L19, L23, L48`: `'w'` (File mode)
*   `L24`: `'customModes'` (JSON key)
*   `L27`: `"AGENT_CLI_CONFIG_PATH"` (Environment variable name)
*   `L41`: `""` (Default empty string content)
*   `L47`: `"{slug}.md"` (Filename pattern)

## tests/test_add_command.py

*   `L23, L60, L86, L115, L140`: `'target_json_path'` (Config key)
*   `L23, L60, L86, L115, L140`: `'markdown_base_dir'` (Config key)
*   `L22`: `"cli.main.load_cli_config"` (Module path string for mocking)
*   `L26, L31, L48, L61, L63, L67, L75`: `'test-agent'` (Test slug)
*   `L26, L49, L61, L67, L123`: `'Test Agent'` (Test agent name)
*   `L26, L31, L49, L61, L67`: `'Test Role'` (Test role definition)
*   `L26, L61`: `'Mock Instructions'` (Mock data)
*   `L27, L62, L90, L117, L142`: `"cli.agent_config.commands.parse_markdown"` (Module path string for mocking)
*   `L28, L64, L92, L119, L143`: `"cli.agent_config.commands.load_configs"` (Module path string for mocking)
*   `L29, L65, L93, L120, L144`: `"cli.agent_config.commands.save_configs"` (Module path string for mocking)
*   `L31, L67`: `"# Test Agent\n# Core Identity & Purpose\nTest Role"` (Markdown content for test file)
*   `L34, L70, L98, L126, L157`: `"add"` (CLI command name)
*   `L36`: `"cli.agent_config.commands"` (Logger name)
*   `L39`: `"Successfully added agent configuration from: {md_file}"` (Success message format string)
*   `L59, L85, L114, L139`: `"cli.agent_config.settings.load_cli_config"` (Module path string for mocking)
*   `L63`: `'Existing Agent'` (Mock data)
*   `L63`: `'Existing Role'` (Mock data)
*   `L63`: `'Existing Instructions'` (Mock data)
*   `L75`: `"Error adding agent: Error: Agent with slug 'test-agent' already exists"` (Error message format string)
*   `L81`: `'non_existent_agent.md'` (Test filename)
*   `L91`: `"Simulated error: Markdown file not found at path: {non_existent_md_path}"` (Simulated error message format string)
*   `L105`: `"An unexpected error occurred: Simulated error: Markdown file not found"` (Error message format string)
*   `L118`: `"Simulated Error: Could not find role definition heading"` (Simulated error message)
*   `L123`: `'malformed-agent'` (Test slug)
*   `L123`: `"# Test Agent\nInvalid Markdown Content - Missing Role Definition Heading"` (Malformed markdown content)
*   `L131`: `"Error adding agent: Simulated Error: Could not find role definition heading"` (Error message format string)
*   `L141, L147, L178`: `'verbose-agent'` (Test slug)
*   `L141, L147`: `'Verbose Agent'` (Test agent name)
*   `L141, L147`: `'Verbose Role'` (Test role definition)
*   `L141`: `'Verbose Instructions'` (Mock data)
*   `L147`: `"# Verbose Agent\n# Core Identity & Purpose\nVerbose Role"` (Markdown content for test file)
*   `L150, L160`: `'cli'` (Root logger name)
*   `L174`: `"DEBUG    cli.agent_config.settings:settings.py"` (Log message format string)
*   `L175`: `"DEBUG    cli.main:main.py"` (Log message format string)
*   `L176`: `"DEBUG    cli.agent_config.commands:commands.py"` (Log message format string)
*   `L177`: `"INFO     cli.agent_config.commands:commands.py"` (Log message format string)
*   `L178`: `"Successfully added agent 'verbose-agent'."` (Log message format string)

## tests/test_cli_args.py

*   `L16, L33, L52, L69, L88`: `'target_json_path'` (Config key)
*   `L16, L52, L88`: `'dummy.json'` (Dummy filename)
*   `L16, L33, L52, L69, L88`: `'markdown_base_dir'` (Config key)
*   `L16, L52, L88`: `'dummy_dir'` (Dummy directory name)
*   `L15, L32, L51, L68, L87`: `"cli.main.load_cli_config"` (Module path string for mocking)
*   `L19, L40`: `"add"` (CLI command name)
*   `L23, L59`: `"Missing argument 'MARKDOWN_PATH'"` (Error message format string)
*   `L29, L65`: `"invalid slug.md"` (Invalid filename for testing)
*   `L35, L71`: `"cli.agent_config.commands.parse_markdown"` (Module path string for mocking)
*   `L36, L45, L72, L81`: `"Simulated Error: Invalid slug format: 'invalid slug'"` (Simulated error message)
*   `L37, L73`: `"cli.agent_config.commands.load_configs"` (Module path string for mocking)
*   `L45`: `"Error adding agent: Simulated Error: Invalid slug format: 'invalid slug'"` (Error message format string)
*   `L55, L76`: `"update"` (CLI command name)
*   `L81`: `"Error updating agent: Simulated Error: Invalid slug format: 'invalid slug'"` (Error message format string)
*   `L91`: `"delete"` (CLI command name)
*   `L95`: `"Missing argument 'SLUG'"` (Error message format string)

## tests/test_config_handling.py

*   `L20, L37, L53, L79, L113, L150`: `"cli.main.load_cli_config"` (Module path string for mocking)
*   `L21, L31`: `"Simulated Error: CLI config file not found"` (Simulated error message)
*   `L25, L42, L58, L89, L124, L163`: `"add"` (CLI command name)
*   `L25, L42, L58`: `"dummy.md"` (Dummy filename)
*   `L30, L46`: `"Error: Failed to load CLI configuration."` (Error message format string)
*   `L38, L47`: `"Simulated Error: Invalid YAML format"` (Simulated error message)
*   `L54, L80, L114, L151`: `'markdown_base_dir'` (Config key)
*   `L54`: `'dummy_dir'` (Dummy directory name)
*   `L66`: `"An unexpected error occurred: Markdown file not found"` (Error message format string)
*   `L76, L84, L103, L117, L121, L137, L157, L160`: `'test-agent'` (Test slug)
*   `L76, L121, L160`: `"# Test Agent\n# Core Identity & Purpose\nTest Role"` (Markdown content for test file)
*   `L80, L114, L151`: `'target_json_path'` (Config key)
*   `L82, L116, L153`: `"cli.agent_config.commands.load_configs"` (Module path string for mocking)
*   `L83, L118, L156`: `"cli.agent_config.commands.parse_markdown"` (Module path string for mocking)
*   `L84, L117, L138, L157`: `'Test Agent'` (Test agent name)
*   `L84, L117, L139, L157`: `'Test Role'` (Test role definition)
*   `L84, L157`: `''` (Empty string - default instructions)
*   `L85, L119, L158`: `"cli.agent_config.commands.save_configs"` (Module path string for mocking)
*   `L93, L128`: `"Successfully added agent configuration from: {md_file}"` (Success message format string)
*   `L117`: `'Mock Instructions'` (Mock data)
*   `L146`: `'w'` (File open mode)
*   `L147`: `"invalid json: : :"` (Malformed JSON content)
*   `L154, L169`: `"Simulated Error: Expecting value"` (Simulated error message)
*   `L154`: `"invalid json"` (Malformed JSON content snippet)
*   `L169`: `"Error adding agent: Simulated Error: Expecting value"` (Error message format string)

## tests/test_delete_command.py

*   `L21, L53`: `'target_json_path'` (Config key)
*   `L21, L53`: `'markdown_base_dir'` (Config key)
*   `L20`: `"cli.main.load_cli_config"` (Module path string for mocking)
*   `L23, L28, L32, L45`: `'test-agent'` (Test slug)
*   `L23`: `'Test Agent'` (Test agent name)
*   `L23`: `'Test Role'` (Test role definition)
*   `L23`: `'Test Instructions'` (Mock data)
*   `L24, L55`: `"cli.agent_config.commands.load_configs"` (Module path string for mocking)
*   `L25, L56`: `"cli.agent_config.commands.save_configs"` (Module path string for mocking)
*   `L28, L59`: `"delete"` (CLI command name)
*   `L32`: `"Successfully deleted agent configuration with slug: test-agent"` (Success message format string)
*   `L45`: `"Successfully deleted agent 'test-agent'."` (Log message format string)
*   `L52`: `"cli.agent_config.settings.load_cli_config"` (Module path string for mocking)
*   `L59, L64`: `"non-existent-agent"` (Test slug)
*   `L64`: `"Error deleting agent: Error: Agent with slug 'non-existent-agent' not found"` (Error message format string)

## tests/test_example.py

*   `L11`: `'asyncio'` (Pytest marker name)
*   `L20`: `'ai.some_module'` (Commented-out module path)
*   `L20`: `'some_function'` (Commented-out function name)

## tests/test_update_command.py

*   `L22, L63, L91, L116`: `'target_json_path'` (Config key)
*   `L22, L63, L91, L116`: `'markdown_base_dir'` (Config key)
*   `L21, L62`: `"cli.main.load_cli_config"` (Module path string for mocking)
*   `L24, L27, L32, L50, L51, L55`: `'test-agent'` (Test slug)
*   `L24, L27, L32, L51`: `'Test Agent'` (Test agent name)
*   `L24, L32, L52`: `'Updated Test Role'` (Test role definition)
*   `L24`: `'Updated Instructions'` (Mock data)
*   `L25, L66, L93, L118`: `"cli.agent_config.commands.parse_markdown"` (Module path string for mocking)
*   `L27`: `'Initial Role'` (Mock data)
*   `L27`: `'Initial Instructions'` (Mock data)
*   `L28, L68, L95, L122`: `"cli.agent_config.commands.load_configs"` (Module path string for mocking)
*   `L29, L69, L96, L123`: `"cli.agent_config.commands.save_configs"` (Module path string for mocking)
*   `L32`: `"# Test Agent\n# Core Identity & Purpose\nUpdated Test Role"` (Markdown content for test file)
*   `L35, L75, L101, L129`: `"update"` (CLI command name)
*   `L39`: `"Successfully updated agent configuration from: {md_file}"` (Success message format string)
*   `L55`: `"Successfully updated agent 'test-agent'."` (Log message format string)
*   `L65, L72, L80`: `'non-existent-agent'` (Test slug)
*   `L65, L72`: `'Non Existent Agent'` (Test agent name)
*   `L65, L72`: `'Test Role'` (Test role definition)
*   `L65`: `'Non Existent Instructions'` (Mock data)
*   `L72`: `"# Non Existent Agent\n# Core Identity & Purpose\nTest Role"` (Markdown content for test file)
*   `L80`: `"Error updating agent: Error: Agent with slug 'non-existent-agent' not found"` (Error message format string)
*   `L86`: `'non_existent_agent.md'` (Test filename)
*   `L90, L115`: `"cli.agent_config.settings.load_cli_config"` (Module path string for mocking)
*   `L94`: `"Simulated Error: Markdown file not found at path: {non_existent_md_path}"` (Simulated error message format string)
*   `L107`: `"An unexpected error occurred: Simulated Error: Markdown file not found"` (Error message format string)
*   `L119, L134`: `"Simulated Error: Could not find role definition heading"` (Simulated error message)
*   `L121, L126`: `'malformed-agent'` (Test slug)
*   `L121`: `'Malformed Agent'` (Test agent name)
*   `L121`: `'Existing Role'` (Mock data)
*   `L121`: `'Existing Instructions'` (Mock data)
*   `L126`: `"# Test Agent\nInvalid Markdown Content - Missing Role Definition Heading"` (Malformed markdown content)
*   `L134`: `"Error updating agent: Simulated Error: Could not find role definition heading"` (Error message format string)

## tests/unit/test_commands.py

*   `L12, L101, L107, L125, L167`: `"agent-a"` (Test slug)
*   `L12`: `"Agent A"` (Test agent name)
*   `L12`: `"Role A"` (Test role definition)
*   `L16, L43, L133, L173`: `"agent-b"` (Test slug)
*   `L16`: `"Agent B"` (Test agent name)
*   `L16`: `"Role B"` (Test role definition)
*   `L16`: `"Custom B"` (Mock data)
*   `L24`: `"test_configs.json"` (Test filename)
*   `L28`: `"markdown_files"` (Test directory name)
*   `L37, L45, L53`: `"agent.md"` (Test filename)
*   `L51, L59, L150`: `"new-agent"` (Test slug)
*   `L59`: `"New Agent"` (Test agent name)
*   `L59`: `"New Role"` (Test role definition)
*   `L67`: `'cli.agent_config.commands.load_configs'` (Module path string for mocking)
*   `L68`: `'cli.agent_config.commands.save_configs'` (Module path string for mocking)
*   `L69`: `'cli.agent_config.commands.parse_markdown'` (Module path string for mocking)
*   `L95, L96, L139, L140`: `"slug"` (Dict key for sorting/accessing)
*   `L109`: `"Agent with slug '{mock_config_a.slug}' already exists"` (Error message format string)
*   `L125`: `"Agent A Updated"` (Test agent name)
*   `L125`: `"Role A Updated"` (Test role definition)
*   `L152`: `"Agent with slug '{mock_new_config.slug}' not found"` (Error message format string)
*   `L187`: `"non-existent-slug"` (Test slug)
*   `L189`: `"Agent with slug '{slug_to_delete}' not found"` (Error message format string)

## tests/unit/test_config.py

*   `L14, L118`: `"agent-b"` (Test slug)
*   `L14`: `"Agent B"` (Test agent name)
*   `L14`: `"Role B"` (Test role definition)
*   `L15, L118`: `"agent-a"` (Test slug)
*   `L15`: `"Agent A"` (Test agent name)
*   `L15`: `"Role A"` (Test role definition)
*   `L15`: `"Custom A"` (Mock data)
*   `L24, L118`: `'slug'` (Dict key for sorting/accessing)
*   `L24`: `''` (Default sort key value)
*   `L26, L47, L61, L116, L118`: `"customModes"` (JSON key)
*   `L31`: `"valid_config.json"` (Test filename)
*   `L32, L39, L47, L54, L61, L109, L137`: `'utf-8'` (Encoding string)
*   `L38`: `"invalid_structure.json"` (Test filename)
*   `L39`: `"slug"` (Dict key)
*   `L39`: `"test"` (Test slug)
*   `L45`: `"invalid_data.json"` (Test filename)
*   `L47`: `"invalid"` (Test slug)
*   `L53`: `"invalid_syntax.json"` (Test filename)
*   `L54`: `"{customModes: [}"` (Malformed JSON content)
*   `L60`: `"non_list_custommodes.json"` (Test filename)
*   `L61`: `"not-a-list"` (Test slug)
*   `L69`: `"non_existent.json"` (Test filename)
*   `L83`: `"structure is invalid"` (Error message substring)
*   `L88`: `"'customModes' .* is not a list"` (Error message regex pattern)
*   `L93`: `"Data validation failed"` (Error message substring)
*   `L98`: `"Invalid JSON format"` (Error message substring)
*   `L105, L124`: `"output_config.json"` (Test filename)
*   `L123`: `"new_dir"` (Test directory name)
*   `L133`: `"empty_config.json"` (Test filename)

## tests/unit/test_markdown_parser.py

*   `L16, L183`: `"# Test Agent Name"` (Test data)
*   `L17`: `"Some introductory text."` (Test data)
*   `L19, L62, L79, L184, L215`: `"# Core Identity & Purpose"` (Markdown heading constant)
*   `L20, L185`: `"This is the role definition."` (Test data)
*   `L21`: `"It spans multiple lines."` (Test data)
*   `L23, L54, L65, L82, L187`: `"## Custom Instructions"` (Markdown heading constant)
*   `L24, L188`: `"Instruction section 1."` (Test data)
*   `L25`: `"More instructions here."` (Test data)
*   `L27, L191, L192`: `"## Another Heading (H2)"` (Test data / heading)
*   `L28`: `"This should not be part of role def or custom instructions."` (Test data)
*   `L30, L196`: `"## Standard Operating Procedure (SOP) / Workflow"` (Markdown heading constant)
*   `L31, L189`: `"Instruction section 2."` (Test data)
*   `L32, L194`: `"Final instructions."` (Test data)
*   `L34, L195`: `"### Sub Heading (H3)"` (Test data / heading)
*   `L35`: `"Details within section 2."` (Test data)
*   `L41, L204`: `"# Minimal Agent"` (Test data)
*   `L42`: `"Only has the required role."` (Test data)
*   `L44, L205`: `"# Role"` (Markdown heading constant)
*   `L45, L205`: `"The minimal role definition."` (Test data)
*   `L51`: `"# Missing Role Agent"` (Test data)
*   `L52`: `"This agent has no role definition heading."` (Test data)
*   `L55`: `"Some instructions."` (Test data)
*   `L63`: `"Role definition present."` (Test data)
*   `L66`: `"Instructions present."` (Test data)
*   `L72, L212`: `"# Multi Role Agent"` (Test data)
*   `L74, L213`: `"# Persona"` (Markdown heading constant)
*   `L75, L214`: `"This is the first role heading."` (Test data)
*   `L77`: `"Some text."` (Test data)
*   `L80`: `"This is the second role heading, should be ignored."` (Test data)
*   `L83`: `"Instructions here."` (Test data)
*   `L88, L182`: `"test-agent"` (Test slug)
*   `L90, L98, L106, L114, L122, L219`: `"agent.md"` (Test filename)
*   `L91, L99, L107, L115, L123`: `"utf-8"` (Encoding string)
*   `L96, L203`: `"minimal-agent"` (Test slug)
*   `L104`: `"missing-role-agent"` (Test slug)
*   `L112`: `"missing-name-agent"` (Test slug)
*   `L120, L211`: `"multi-role-agent"` (Test slug)
*   `L130`: `"# Title\nText\n## Section 1\nContent 1\n## Section 2\nContent 2"` (Test data)
*   `L131, L135, L140, L147, L150, L155, L158, L163, L167, L169, L172, L173`: `"## Section 1"` (Test data / heading)
*   `L134, L150, L158`: `"## Section 1\nContent 1"` (Test data)
*   `L136, L162`: `"## Section 2"` (Test data / heading)
*   `L139`: `"# Title\nText\n### Section B\nContent B\n## Section A\nContent A"` (Test data)
*   `L140`: `"## Section A"` (Test data / heading)
*   `L140`: `"### Section B"` (Test data / heading)
*   `L143`: `"### Section B\nContent B"` (Test data)
*   `L146`: `"## Section 1\nContent 1\n# Main Title\nMore text"` (Test data)
*   `L151`: `"# Main Title"` (Test data / heading)
*   `L154`: `"# Title\n## Section 1\nContent 1"` (Test data)
*   `L162`: `"# Title\n## Section 2\nContent 2"` (Test data)
*   `L167`: `"## Section 1\nContent 1\n## Section 1\nContent 2"` (Test data)
*   `L168`: `"Content 1"` (Test data)
*   `L172`: `"## Section 1\nContent 2"` (Test data)
*   `L219`: `"non-existent-agent"` (Test slug)
*   `L225`: `"Could not find H1 heading for 'name'"` (Error message substring)
*   `L231`: `"Could not find any role definition heading"` (Error message substring)

## tests/unit/test_models.py

*   `L8, L12`: `"test-agent"` (Test slug)
*   `L9, L13`: `"Test Agent"` (Test agent name)
*   `L10, L14`: `"This is a test role."` (Test role definition)
*   `L16, L25`: `"read"` (Default group value)
*   `L21, L27`: `"full-agent"` (Test slug)
*   `L22, L28`: `"Full Agent"` (Test agent name)
*   `L23, L29`: `"A complete role definition."` (Test role definition)
*   `L24, L30`: `"Some custom instructions."` (Test custom instructions)
*   `L25, L31`: `"write"` (Group value)
*   `L36`: `"missing-name"` (Test slug)
*   `L36`: `"Role without name"` (Test role definition)
*   `L39, L47`: `'missing'` (Pydantic error type)
*   `L40`: `'name'` (Pydantic error location)
*   `L43`: `"missing-role"` (Test slug)
*   `L43`: `"Agent without role"` (Test agent name)
*   `L49`: `'roleDefinition'` (Pydantic error location)
*   `L54`: `"alias-test"` (Test slug)
*   `L55`: `"Alias Test Agent"` (Test agent name)
*   `L56, L58`: `"Role defined using alias."` (Test role definition)
*   `L64`: `"field-name-test"` (Test slug)
*   `L65`: `"Field Name Test Agent"` (Test agent name)
*   `L66, L68`: `"Role defined using field name."` (Test role definition)